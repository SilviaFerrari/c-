#include <bits/stdc++.h> 
#include <vector> 
#include <iostream>
#include <cstdlib>
#include <string>
using namespace std;
 
string first_name;
string last_name;
int number;

vector<int>phone; 
vector<string>name;
vector<string>surname;

char key;
string word;
int n;
int control;
int quit = false;

void random_name()
{
	int i = 0;
	string random_name[10] = {"Bianca", "Alice", "Marco", "Simone", "Mauro", "Giovanni", "Andrea", "Federica", "Max", "Licia"};
	while(i++ < 20) 
	{
		int r = (rand() % 10);
		string element = random_name[r];
		name.push_back(element);
	}
}

void random_surname()
{
	int i = 0;
	string random_surname[10] = {"Greco", "Conti", "Ricci", "Ferri", "Costa", "Galli", "Serra", "Parisi", "Villa", "Riva"};
	while(i++ < 20) 
	{
		int r = (rand() % 10);
		string element = random_surname[r];
		surname.push_back(element);
	} 
}

void random_number(){
	int i = 0;
	while(i++ < 20) 
	{
		int r = (rand() % 32000) + 35897389;
		phone.push_back(r);
	}
}

void print_vector()
{
	cout << "I contatti nella tua rubrica sono:" << endl; 
    for (int i = 0; i < name.size(); i++)
	{
		cout << name[i] << " ";
		cout << surname[i] << " ";
		cout << phone[i] << " "; 
    	cout << endl;
	}           
}

void check()
{
	control = 0;
	for (int i = 0; i < name.size(); i++)
		{
	    	for (int e = 0; e < surname.size(); e++)
			{
	    		if(name[i] == first_name and surname[e] == last_name and i == e)
				{
	    			control = 1;
				}else if(phone[e] == number and i == e)
				{
					control = 2;
				}
			}
		}
}

void random_check()
{
	for(int j = 0; j < name.size(); j++)
	{
		first_name = name[j];
		last_name = surname[j];
		number = phone[j];
		
		for (int i = 0; i < name.size(); i++)
		{
	    	for (int e = 0; e < surname.size(); e++)
			{
	    		if(name[i] == first_name and surname[e] == last_name and i == e)
				{
	    			name.erase(name.begin() + i);
	    			surname.erase(surname.begin() + e);
	    			phone.erase(phone.begin() + e);
				}else if(phone[e] == number and i == e)
				{
					name.erase(name.begin() + i);
	    			surname.erase(surname.begin() + e);
	    			phone.erase(phone.begin() + e);
				}
			}
		}
	
	}
}

void main_page()
{
	cout << endl;
	print_vector();
	cout << endl
	<< "Se desidesi aggiungere un contatto premi A." << endl
	<< endl
	<< "Per accedere alle opzioni di un contatto cercalo digitando S." << endl
	<<endl
	<< "Per eliminare un contatto premere R." << endl 
	<< endl;
	cin >> key;
}

void add_contact()
{
	cout << "Inserisci il nome del contatto." << endl;
    cin >> first_name;
    cout << "Inserisci il cognome del contatto." << endl;
    cin >> last_name;
    cout << "Inserisci il numero" << endl;
    cin >> number;
    
    check();
    if(control == 1)
    {
    	cout << endl;
    	cout << "Impossibile salvare il contatto, nome e cognome esistenti." << endl
    	<< "Premere A per riprovare o M per tornare alla pagina principale." << endl;
    	cin >> key;
    	if(key == 'a')
    	{
    		add_contact();
		}else if(key == 'm')
		{
			main_page();
		}
	}else if(control == 2)
	{
		cout << endl;
    	cout << "Impossibile salvare il contatto, numero esistente." << endl
    	<< "Premere A per riprovare o M per tornare alla pagina principale." << endl;
    	cin >> key;
    	if(key == 'a')
    	{
    		add_contact();
		}else if(key == 'm')
		{
			main_page();
		}
	}else if(control == 0)
	{
		name.push_back(first_name);
    	surname.push_back(last_name);
    	phone.push_back(number);
		cout << endl;
		main_page();
	}
}

void search()
{
	cout << endl;
	cout << "Digita una lettera o una parola da cercare." << endl
	<< "Se vuoi cercare un contatto tramite il numero, premere prima N" << endl;
	cin >> word;
	//if(word != 'n')
	//{
		for(int i = 0; i < name.size(); i++)
		{
			for (int e = 0; e < name[i]; e++)
			{
				if(word == i[e])
				{
				
				}
			}
		}
	//}
	
	/*for (int i = 0; i < name.size(); i++)
	{ 
		for (int e = 0; e < name[i]; e++)
		{
			if()
		}
	for (int e = 0; e < surname.size(); e++)
	{
	    		if(name[i] == first_name and surname[e] == last_name and i == e)
				{*/
	
	
}

void remove()
{
	cout << "Inserisci il nome del contatto" << endl;
    cin >> first_name;
    cout << "Inserisci il cognome del contatto" << endl;
    cin >> last_name;
    
    for (int i = 0; i < name.size(); i++)
		{
	    	for (int e = 0; e < surname.size(); e++)
			{
	    		if(name[i] == first_name and surname[e] == last_name and i == e)
				{
	    			name.erase(name.begin() + i);
	    			surname.erase(surname.begin() + e);
	    			phone.erase(phone.begin() + e);
				}
			}
		}
}

int main()
{ 	
	random_name();
    random_surname();
    random_number();
    random_check();
    
	cout << "Ti diamo il benvenuto nella tua rubrica personale." << endl
	<< "Premi un tasto qualunque per visualizzare i tuoi contatti." << endl;
	cin >> key;
	do
	{
		main_page();
		//cin >> key;
		cout << endl;
		switch(key)
		{
			case('a'):
				{
					add_contact();
				}
			case('s'):
			{
				search();
			}
			case('r'):
			{
				remove();
			}
		}
	}while(quit == false); 	
}
